# java-convenience-store-precourse
구매자의 할인 혜택과 재고 상황을 고려하여 최종 결제 금액을 계산하고 안내하는 결제 시스템을 구현한다.

## 기능 구현 목록

돈
- 더하기
- 빼기
- 나누기
- 곱하기
- 대소비교

<br>

물건 수량
- 더하기
- 빼기
- 곱하기
- 대소비교

<br>

상품 재고
- 재고 감소시키기
  - 🚩 재고 부족 시 예외가 발생한다.
  - 프로모션 재고가 부족할 때 일반 재고가 감소된다.
- 재고 차이 확인하기
  - 🚩 많은 재고에서 적은 재고의 차이를 확인하려 하면 예외가 발생한다.

<br>

상품
- 상품의 가격, 재고, 이름을 설정할 수 있다.
- 상품 구매
  - 🚩 0개 구매하려고 할 때 예외가 발생한다.
  - 상품에 프로모션이 있다면 적용한다.
  - 구매 후 구매 정보를 확인할 수 있어야 한다.
    - 상품명
    - 구매 가격
    - 결제할 수량
    - (프로모션 적용 시) 증정된 수량

<br>

프로모션 기간
- 현재 시간이 프로모션 기간인지 확인할 수 있다.
  - 🚩 종료 시간이 시작 시간보다 느리다면 예외가 발생한다.

<br>

프로모션
- 현재 해당 프로모션을 이용가능한지 확인한다.
- 증정 수량 계산한다.
  - 요청한 재고에 프로모션 재고가 없다면 수량을 0으로 반환한다.
  - 🚩 프로모션 무료 제공이 있다. 무료 제공 수량을 공지한다.
  - 🚩 몇 개는 프로모션이 적용되지만 몇 개는 정가구매 해야 한다. 정가구매 수량을 공지한다.
- 예외를 무시하고 증정 수량만 계산한다.
- 프로모션 이름 반환한다.

<br>

멤버쉽
- 멤버쉽 할인
  - 프로모션 미적용 금액의 30% 할인한다.
  - 프로모션 적용 후 남은 금액에 할인을 적용한다.
  - 최대 한도는 8,000원이다.

<br>

영수증
- 구매정보를 확인할 수 있다.

<br>

상품 보드
- 사용자가 찾는 상품을 반환한다.
  - 부가기능
    - 사용자가 찾는 상품이 있는지 확인한다.
    - 사용자가 찾는 상품의 재고가 있는지 확인한다.

<br>

사용자 상품 리더
- 사용자 입력을 파싱해준다.
  - 🚩 잘못된 문자열이 들어오면 예외가 발생한다.
  - 🚩 상품명이 빈 문자라면 예외가 발생한다.
  - 🚩 수량이 양수가 아니라면 예외가 발생한다.
- 파싱 처리를 한 후 유효성 검사를 하고 반환한다.
  - 🚩 알 수 없는 제품이라면 예외가 발생한다.
  - 🚩 해당 상품에 요청한 수량만큼의 재고가 없다면 예외가 발생한다.

<br>

스토어 파일 리더
- 스토어 파일 읽어오기
  - 🚩 헤더 정보와 데이터 요소의 길이가 같지 않을 경우 예외가 발생한다.
  - 🚩 빈 파일은 헤더 정보가 없기 떄문에 예외가 발생한다.


## 개인적 목표
* 너무 많은 것을 한 번에 처리하지 말고 작은 단위로 처리하기.
* 시스템이 안정적이려면 어떤 테스트가 있어야 하는지 생각하고 작성한 뒤 구현하기.
* test-feat-refactor 커밋으로 TDD 사이클을 유지하기.
* 무분별한 Getter 사용 자제하기.
  * 한 번에 가지말고 public 필드로 시작해서 private으로 천천히 변환하는 과정을 거치기.
* 다른 개발자가 나의 코드를 사용할 때 오용 가능성을 염두하기.